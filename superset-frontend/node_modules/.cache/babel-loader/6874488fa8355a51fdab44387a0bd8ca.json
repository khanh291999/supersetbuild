{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { t, useTheme } from '@superset-ui/core';\nimport { handleDashboardDelete, CardStyles } from 'src/views/CRUD/utils';\nimport { isFeatureEnabled, FeatureFlag } from 'src/featureFlags';\nimport { Dropdown, Menu } from 'src/common/components';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport ListViewCard from 'src/components/ListViewCard';\nimport Icons from 'src/components/Icons';\nimport Label from 'src/components/Label';\nimport FacePile from 'src/components/FacePile';\nimport FaveStar from 'src/components/FaveStar';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nfunction DashboardCard({ dashboard, hasPerm, bulkSelectEnabled, dashboardFilter, refreshData, userId, addDangerToast, addSuccessToast, openDashboardEditModal, favoriteStatus, saveFavoriteStatus, showThumbnails, handleBulkDashboardExport }) {\n  const history = useHistory();\n  const canEdit = hasPerm('can_write');\n  const canDelete = hasPerm('can_write');\n  const canExport = hasPerm('can_read');\n  const theme = useTheme();\n  const menu = ___EmotionJSX(Menu, null,\n  canEdit && openDashboardEditModal && ___EmotionJSX(Menu.Item, null,\n  ___EmotionJSX(\"div\", { role: \"button\", tabIndex: 0, className: \"action-button\", onClick: () => openDashboardEditModal && openDashboardEditModal(dashboard) },\n  ___EmotionJSX(Icons.EditAlt, { iconSize: \"l\" }), \" \", t('Edit'))),\n\n\n  canExport && ___EmotionJSX(Menu.Item, null,\n  ___EmotionJSX(\"div\", { role: \"button\", tabIndex: 0, onClick: () => handleBulkDashboardExport([dashboard]), className: \"action-button\" },\n  ___EmotionJSX(Icons.Share, { iconSize: \"l\" }), \" \", t('Export'))),\n\n\n  canDelete && ___EmotionJSX(Menu.Item, null,\n  ___EmotionJSX(ConfirmStatusChange, { title: t('Please confirm'), description: ___EmotionJSX(React.Fragment, null,\n    t('Are you sure you want to delete'), ' ',\n    ___EmotionJSX(\"b\", null, dashboard.dashboard_title), \"?\"),\n    onConfirm: () => handleDashboardDelete(dashboard, refreshData, addSuccessToast, addDangerToast, dashboardFilter, userId) },\n  (confirmDelete) => ___EmotionJSX(\"div\", { role: \"button\", tabIndex: 0, className: \"action-button\", onClick: confirmDelete },\n  ___EmotionJSX(Icons.Trash, { iconSize: \"l\" }), \" \", t('Delete')))));\n\n\n\n\n  return ___EmotionJSX(CardStyles, { onClick: () => {\n      if (!bulkSelectEnabled) {\n        history.push(dashboard.url);\n      }\n    } },\n  ___EmotionJSX(ListViewCard, { loading: dashboard.loading || false, title: dashboard.dashboard_title, certifiedBy: dashboard.certified_by, certificationDetails: dashboard.certification_details, titleRight: ___EmotionJSX(Label, null, dashboard.published ? t('published') : t('draft')), cover: !isFeatureEnabled(FeatureFlag.THUMBNAILS) || !showThumbnails ? ___EmotionJSX(React.Fragment, null) : null, url: bulkSelectEnabled ? undefined : dashboard.url, linkComponent: Link, imgURL: dashboard.thumbnail_url, imgFallbackURL: \"/static/assets/images/dashboard-card-fallback.svg\", description: t('Modified %s', dashboard.changed_on_delta_humanized), coverLeft: ___EmotionJSX(FacePile, { users: dashboard.owners || [] }), actions: ___EmotionJSX(ListViewCard.Actions, { onClick: (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      } },\n    ___EmotionJSX(FaveStar, { itemId: dashboard.id, saveFaveStar: saveFavoriteStatus, isStarred: favoriteStatus }),\n    ___EmotionJSX(Dropdown, { overlay: menu },\n    ___EmotionJSX(Icons.MoreVert, { iconColor: theme.colors.grayscale.base }))) }));\n\n\n\n}\nexport default DashboardCard;","map":null,"metadata":{},"sourceType":"module"}