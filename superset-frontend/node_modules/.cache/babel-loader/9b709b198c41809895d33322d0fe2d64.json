{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _isNil from \"lodash/isNil\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useRef, useState } from 'react';\n\nimport { styled, t } from '@superset-ui/core';\nimport { css } from '@emotion/react';\nimport { Modal as AntdModal } from 'src/common/components';\nimport Button from 'src/components/Button';\nimport { Resizable } from 're-resizable';\nimport Draggable from 'react-draggable';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\nconst BaseModal = (props) =>\n// Removes mask animation. Fixed in 4.6.0.\n// https://github.com/ant-design/ant-design/issues/27192\n___EmotionJSX(AntdModal, _extends({}, props, { maskTransitionName: \"\" }));\nexport const StyledModal = styled(BaseModal)`\n  ${({ theme, responsive, maxWidth }) => responsive && /*#__PURE__*/\ncss(\"max-width:\",\nmaxWidth != null ? maxWidth : '900px', \";padding-left:\",\ntheme.gridUnit * 3, \"px;padding-right:\",\ntheme.gridUnit * 3, \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:StyledModal;\"), process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9zdXBlcnNldC1mcm9udGVuZC9zcmMvY29tcG9uZW50cy9Nb2RhbC9Nb2RhbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBdUNRIiwiZmlsZSI6Ii9zdXBlcnNldC1mcm9udGVuZC9zcmMvY29tcG9uZW50cy9Nb2RhbC9Nb2RhbC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzTmlsIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHN0eWxlZCwgdCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCB7IE1vZGFsIGFzIEFudGRNb2RhbCwgfSBmcm9tICdzcmMvY29tbW9uL2NvbXBvbmVudHMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdzcmMvY29tcG9uZW50cy9CdXR0b24nO1xuaW1wb3J0IHsgUmVzaXphYmxlIH0gZnJvbSAncmUtcmVzaXphYmxlJztcbmltcG9ydCBEcmFnZ2FibGUgZnJvbSAncmVhY3QtZHJhZ2dhYmxlJztcbmNvbnN0IE1PREFMX0hFQURFUl9IRUlHSFQgPSA1NTtcbmNvbnN0IE1PREFMX01JTl9DT05URU5UX0hFSUdIVCA9IDU0O1xuY29uc3QgTU9EQUxfRk9PVEVSX0hFSUdIVCA9IDY1O1xuY29uc3QgUkVTSVpBQkxFX01JTl9IRUlHSFQgPSBNT0RBTF9IRUFERVJfSEVJR0hUICsgTU9EQUxfTUlOX0NPTlRFTlRfSEVJR0hUO1xuY29uc3QgUkVTSVpBQkxFX01JTl9XSURUSCA9ICczODBweCc7XG5jb25zdCBSRVNJWkFCTEVfTUFYX0hFSUdIVCA9ICcxMDB2aCc7XG5jb25zdCBSRVNJWkFCTEVfTUFYX1dJRFRIID0gJzEwMHZ3JztcbmNvbnN0IEJhc2VNb2RhbCA9IChwcm9wcykgPT4gKFxuLy8gUmVtb3ZlcyBtYXNrIGFuaW1hdGlvbi4gRml4ZWQgaW4gNC42LjAuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy8yNzE5MlxuPEFudGRNb2RhbCB7Li4ucHJvcHN9IG1hc2tUcmFuc2l0aW9uTmFtZT1cIlwiLz4pO1xuZXhwb3J0IGNvbnN0IFN0eWxlZE1vZGFsID0gc3R5bGVkKEJhc2VNb2RhbCkgYFxuICAkeyh7IHRoZW1lLCByZXNwb25zaXZlLCBtYXhXaWR0aCB9KSA9PiByZXNwb25zaXZlICYmXG4gICAgY3NzIGBcbiAgICAgIG1heC13aWR0aDogJHttYXhXaWR0aCA/PyAnOTAwcHgnfTtcbiAgICAgIHBhZGRpbmctbGVmdDogJHt0aGVtZS5ncmlkVW5pdCAqIDN9cHg7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiAke3RoZW1lLmdyaWRVbml0ICogM31weDtcbiAgICBgfVxuXG4gIC5hbnQtbW9kYWwtaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQ0fTtcbiAgICBib3JkZXItcmFkaXVzOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmJvcmRlclJhZGl1c31weFxuICAgICAgJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ib3JkZXJSYWRpdXN9cHggMCAwO1xuICAgIHBhZGRpbmctbGVmdDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDR9cHg7XG4gICAgcGFkZGluZy1yaWdodDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDR9cHg7XG5cbiAgICAuYW50LW1vZGFsLXRpdGxlIGg0IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbiAgfVxuXG4gIC5hbnQtbW9kYWwtY2xvc2UteCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgLmNsb3NlIHtcbiAgICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgICAgbWFyZ2luLWJvdHRvbTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdH1weDtcbiAgICAgIGNvbG9yOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5zZWNvbmRhcnkuZGFyazF9O1xuICAgICAgZm9udC1zaXplOiAzMnB4O1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmxpZ2h0fTtcbiAgICB9XG4gIH1cblxuICAuYW50LW1vZGFsLWJvZHkge1xuICAgIHBhZGRpbmc6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICR7KHsgcmVzaXphYmxlLCBoZWlnaHQgfSkgPT4gIXJlc2l6YWJsZSAmJiBoZWlnaHQgJiYgYGhlaWdodDogJHtoZWlnaHR9O2B9XG4gIH1cbiAgLmFudC1tb2RhbC1mb290ZXIge1xuICAgIGJvcmRlci10b3A6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgLyA0fXB4IHNvbGlkXG4gICAgICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQyfTtcbiAgICBwYWRkaW5nOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcblxuICAgIC5idG4ge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICB9XG5cbiAgICAuYnRuICsgLmJ0biB7XG4gICAgICBtYXJnaW4tbGVmdDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDJ9cHg7XG4gICAgfVxuICB9XG5cbiAgLy8gc3R5bGluZyBmb3IgVGFicyBjb21wb25lbnRcbiAgLy8gQWFyb24gbm90ZSAyMC0xMS0xOTogdGhpcyBzZWVtcyB0byBiZSBleGNsdXNpdmVseSBoZXJlIGZvciB0aGUgRWRpdCBEYXRhYmFzZSBtb2RhbC5cbiAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgYXMgaXQgaXMgYSBzcGVjaWFsIGNhc2UuXG4gIC5hbnQtdGFicy10b3Age1xuICAgIG1hcmdpbi10b3A6IC0keyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcbiAgfVxuXG4gICYubm8tY29udGVudC1wYWRkaW5nIC5hbnQtbW9kYWwtYm9keSB7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuXG4gICR7KHsgZHJhZ2dhYmxlLCB0aGVtZSB9KSA9PiBkcmFnZ2FibGUgJiZcbiAgICBgXG4gICAgLmFudC1tb2RhbC1oZWFkZXIge1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIC5kcmFnZ2FibGUtdHJpZ2dlciB7XG4gICAgICAgICAgY3Vyc29yOiBtb3ZlO1xuICAgICAgICAgIHBhZGRpbmc6ICR7dGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgfVxuICBgfTtcblxuICAkeyh7IHJlc2l6YWJsZSwgaGlkZUZvb3RlciB9KSA9PiByZXNpemFibGUgJiZcbiAgICBgXG4gICAgLnJlc2l6YWJsZSB7XG4gICAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuXG4gICAgICAucmVzaXphYmxlLXdyYXBwZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIC5hbnQtbW9kYWwtY29udGVudCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcblxuICAgICAgICAuYW50LW1vZGFsLWJvZHkge1xuICAgICAgICAgIC8qIDEwMCUgLSBoZWFkZXIgaGVpZ2h0IC0gZm9vdGVyIGhlaWdodCAqL1xuICAgICAgICAgIGhlaWdodDogJHtoaWRlRm9vdGVyXG4gICAgICAgID8gYGNhbGMoMTAwJSAtICR7TU9EQUxfSEVBREVSX0hFSUdIVH1weCk7YFxuICAgICAgICA6IGBjYWxjKDEwMCUgLSAke01PREFMX0hFQURFUl9IRUlHSFR9cHggLSAke01PREFMX0ZPT1RFUl9IRUlHSFR9cHgpO2B9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIGB9XG5gO1xuY29uc3QgQ3VzdG9tTW9kYWwgPSAoeyBjaGlsZHJlbiwgZGlzYWJsZVByaW1hcnlCdXR0b24gPSBmYWxzZSwgb25IaWRlLCBvbkhhbmRsZWRQcmltYXJ5QWN0aW9uLCBwcmltYXJ5QnV0dG9uTmFtZSA9IHQoJ09LJyksIHByaW1hcnlCdXR0b25UeXBlID0gJ3ByaW1hcnknLCBzaG93LCBuYW1lLCB0aXRsZSwgd2lkdGgsIG1heFdpZHRoLCByZXNwb25zaXZlID0gZmFsc2UsIGNlbnRlcmVkLCBmb290ZXIsIGhpZGVGb290ZXIsIHdyYXBQcm9wcywgZHJhZ2dhYmxlID0gZmFsc2UsIHJlc2l6YWJsZSA9IGZhbHNlLCByZXNpemFibGVDb25maWcgPSB7XG4gICAgbWF4SGVpZ2h0OiBSRVNJWkFCTEVfTUFYX0hFSUdIVCxcbiAgICBtYXhXaWR0aDogUkVTSVpBQkxFX01BWF9XSURUSCxcbiAgICBtaW5IZWlnaHQ6IGhpZGVGb290ZXJcbiAgICAgICAgPyBSRVNJWkFCTEVfTUlOX0hFSUdIVFxuICAgICAgICA6IFJFU0laQUJMRV9NSU5fSEVJR0hUICsgTU9EQUxfRk9PVEVSX0hFSUdIVCxcbiAgICBtaW5XaWR0aDogUkVTSVpBQkxFX01JTl9XSURUSCxcbiAgICBlbmFibGU6IHtcbiAgICAgICAgYm90dG9tOiB0cnVlLFxuICAgICAgICBib3R0b21MZWZ0OiBmYWxzZSxcbiAgICAgICAgYm90dG9tUmlnaHQ6IHRydWUsXG4gICAgICAgIGxlZnQ6IGZhbHNlLFxuICAgICAgICB0b3A6IGZhbHNlLFxuICAgICAgICB0b3BMZWZ0OiBmYWxzZSxcbiAgICAgICAgdG9wUmlnaHQ6IGZhbHNlLFxuICAgICAgICByaWdodDogdHJ1ZSxcbiAgICB9LFxufSwgZHJhZ2dhYmxlQ29uZmlnLCBkZXN0cm95T25DbG9zZSwgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgZHJhZ2dhYmxlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFtib3VuZHMsIHNldEJvdW5kc10gPSB1c2VTdGF0ZSgpO1xuICAgIGNvbnN0IFtkcmFnRGlzYWJsZWQsIHNldERyYWdEaXNhYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBtb2RhbEZvb3RlciA9IGlzTmlsKGZvb3RlcilcbiAgICAgICAgPyBbXG4gICAgICAgICAgICA8QnV0dG9uIGtleT1cImJhY2tcIiBvbkNsaWNrPXtvbkhpZGV9IGN0YSBkYXRhLXRlc3Q9XCJtb2RhbC1jYW5jZWwtYnV0dG9uXCI+XG4gICAgICAgICAge3QoJ0NhbmNlbCcpfVxuICAgICAgICA8L0J1dHRvbj4sXG4gICAgICAgICAgICA8QnV0dG9uIGtleT1cInN1Ym1pdFwiIGJ1dHRvblN0eWxlPXtwcmltYXJ5QnV0dG9uVHlwZX0gZGlzYWJsZWQ9e2Rpc2FibGVQcmltYXJ5QnV0dG9ufSBvbkNsaWNrPXtvbkhhbmRsZWRQcmltYXJ5QWN0aW9ufSBjdGEgZGF0YS10ZXN0PVwibW9kYWwtY29uZmlybS1idXR0b25cIj5cbiAgICAgICAgICB7cHJpbWFyeUJ1dHRvbk5hbWV9XG4gICAgICAgIDwvQnV0dG9uPixcbiAgICAgICAgXVxuICAgICAgICA6IGZvb3RlcjtcbiAgICBjb25zdCBtb2RhbFdpZHRoID0gd2lkdGggfHwgKHJlc3BvbnNpdmUgPyAnMTAwdncnIDogJzYwMHB4Jyk7XG4gICAgY29uc3Qgc2hvdWxkU2hvd01hc2sgPSAhKHJlc2l6YWJsZSB8fCBkcmFnZ2FibGUpO1xuICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKF8sIHVpRGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHdpbmRvdz8uZG9jdW1lbnQ/LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IGRyYWdnYWJsZVJlZj8uY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmICh0YXJnZXRSZWN0KSB7XG4gICAgICAgICAgICBzZXRCb3VuZHMoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IC10YXJnZXRSZWN0Py5sZWZ0ICsgdWlEYXRhPy54LFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBjbGllbnRXaWR0aCAtICh0YXJnZXRSZWN0Py5yaWdodCAtIHVpRGF0YT8ueCksXG4gICAgICAgICAgICAgICAgdG9wOiAtdGFyZ2V0UmVjdD8udG9wICsgdWlEYXRhPy55LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogY2xpZW50SGVpZ2h0IC0gKHRhcmdldFJlY3Q/LmJvdHRvbSAtIHVpRGF0YT8ueSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgTW9kYWxUaXRsZSA9ICgpID0+IGRyYWdnYWJsZSA/ICg8ZGl2IGNsYXNzTmFtZT1cImRyYWdnYWJsZS10cmlnZ2VyXCIgb25Nb3VzZU92ZXI9eygpID0+IGRyYWdEaXNhYmxlZCAmJiBzZXREcmFnRGlzYWJsZWQoZmFsc2UpfSBvbk1vdXNlT3V0PXsoKSA9PiAhZHJhZ0Rpc2FibGVkICYmIHNldERyYWdEaXNhYmxlZCh0cnVlKX0+XG4gICAgICAgIHt0aXRsZX1cbiAgICAgIDwvZGl2PikgOiAoPD57dGl0bGV9PC8+KTtcbiAgICByZXR1cm4gKDxTdHlsZWRNb2RhbCBjZW50ZXJlZD17ISFjZW50ZXJlZH0gb25Paz17b25IYW5kbGVkUHJpbWFyeUFjdGlvbn0gb25DYW5jZWw9e29uSGlkZX0gd2lkdGg9e21vZGFsV2lkdGh9IG1heFdpZHRoPXttYXhXaWR0aH0gcmVzcG9uc2l2ZT17cmVzcG9uc2l2ZX0gdmlzaWJsZT17c2hvd30gdGl0bGU9ezxNb2RhbFRpdGxlIC8+fSBjbG9zZUljb249ezxzcGFuIGNsYXNzTmFtZT1cImNsb3NlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgw5dcbiAgICAgICAgPC9zcGFuPn0gZm9vdGVyPXshaGlkZUZvb3RlciA/IG1vZGFsRm9vdGVyIDogbnVsbH0gaGlkZUZvb3Rlcj17aGlkZUZvb3Rlcn0gd3JhcFByb3BzPXt7ICdkYXRhLXRlc3QnOiBgJHtuYW1lIHx8IHRpdGxlfS1tb2RhbGAsIC4uLndyYXBQcm9wcyB9fSBtb2RhbFJlbmRlcj17bW9kYWwgPT4gcmVzaXphYmxlIHx8IGRyYWdnYWJsZSA/ICg8RHJhZ2dhYmxlIGRpc2FibGVkPXshZHJhZ2dhYmxlIHx8IGRyYWdEaXNhYmxlZH0gYm91bmRzPXtib3VuZHN9IG9uU3RhcnQ9eyhldmVudCwgdWlEYXRhKSA9PiBvbkRyYWdTdGFydChldmVudCwgdWlEYXRhKX0gey4uLmRyYWdnYWJsZUNvbmZpZ30+XG4gICAgICAgICAgICB7cmVzaXphYmxlID8gKDxSZXNpemFibGUgY2xhc3NOYW1lPVwicmVzaXphYmxlXCIgey4uLnJlc2l6YWJsZUNvbmZpZ30+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXNpemFibGUtd3JhcHBlclwiIHJlZj17ZHJhZ2dhYmxlUmVmfT5cbiAgICAgICAgICAgICAgICAgIHttb2RhbH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9SZXNpemFibGU+KSA6ICg8ZGl2IHJlZj17ZHJhZ2dhYmxlUmVmfT57bW9kYWx9PC9kaXY+KX1cbiAgICAgICAgICA8L0RyYWdnYWJsZT4pIDogKG1vZGFsKX0gbWFzaz17c2hvdWxkU2hvd01hc2t9IGRyYWdnYWJsZT17ZHJhZ2dhYmxlfSByZXNpemFibGU9e3Jlc2l6YWJsZX0gZGVzdHJveU9uQ2xvc2U9e2Rlc3Ryb3lPbkNsb3NlIHx8IHJlc2l6YWJsZSB8fCBkcmFnZ2FibGV9IHsuLi5yZXN0fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1N0eWxlZE1vZGFsPik7XG59O1xuQ3VzdG9tTW9kYWwuZGlzcGxheU5hbWUgPSAnTW9kYWwnO1xuLy8gVE9ETzogaW4gYW5vdGhlciBQUiwgcmVuYW1lIHRoaXMgdG8gQ29tcGF0YWJpbGl0eU1vZGFsXG4vLyBhbmQgZGVtb3RlIGl0IGFzIHRoZSBkZWZhdWx0IGV4cG9ydC5cbi8vIFdlIHNob3VsZCBzdGFydCB1c2luZyBBbnREIGNvbXBvbmVudCBpbnRlcmZhY2VzIGdvaW5nIGZvcndhcmQuXG5jb25zdCBNb2RhbCA9IE9iamVjdC5hc3NpZ24oQ3VzdG9tTW9kYWwsIHtcbiAgICBlcnJvcjogQW50ZE1vZGFsLmVycm9yLFxuICAgIHdhcm5pbmc6IEFudGRNb2RhbC53YXJuaW5nLFxuICAgIGNvbmZpcm06IEFudGRNb2RhbC5jb25maXJtLFxuICAgIHVzZU1vZGFsOiBBbnRkTW9kYWwudXNlTW9kYWwsXG59KTtcbmV4cG9ydCBkZWZhdWx0IE1vZGFsO1xuIl19 */\")\n}\n\n  .ant-modal-header {\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\n    border-radius: ${({ theme }) => theme.borderRadius}px\n      ${({ theme }) => theme.borderRadius}px 0 0;\n    padding-left: ${({ theme }) => theme.gridUnit * 4}px;\n    padding-right: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .ant-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .ant-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${({ theme }) => theme.gridUnit}px;\n      color: ${({ theme }) => theme.colors.secondary.dark1};\n      font-size: 32px;\n      font-weight: ${({ theme }) => theme.typography.weights.light};\n    }\n  }\n\n  .ant-modal-body {\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    overflow: auto;\n    ${({ resizable, height }) => !resizable && height && `height: ${height};`}\n  }\n  .ant-modal-footer {\n    border-top: ${({ theme }) => theme.gridUnit / 4}px solid\n      ${({ theme }) => theme.colors.grayscale.light2};\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .btn {\n      font-size: 12px;\n      text-transform: uppercase;\n    }\n\n    .btn + .btn {\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  &.no-content-padding .ant-modal-body {\n    padding: 0;\n  }\n\n  ${({ draggable, theme }) => draggable &&\n`\n    .ant-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `};\n\n  ${({ resizable, hideFooter }) => resizable &&\n`\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .ant-modal-content {\n        height: 100%;\n\n        .ant-modal-body {\n          /* 100% - header height - footer height */\n          height: ${hideFooter ?\n`calc(100% - ${MODAL_HEADER_HEIGHT}px);` :\n`calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`}\n        }\n      }\n    }\n  `}\n`;\nconst CustomModal = ({ children, disablePrimaryButton = false, onHide, onHandledPrimaryAction, primaryButtonName = t('OK'), primaryButtonType = 'primary', show, name, title, width, maxWidth, responsive = false, centered, footer, hideFooter, wrapProps, draggable = false, resizable = false, resizableConfig = {\n    maxHeight: RESIZABLE_MAX_HEIGHT,\n    maxWidth: RESIZABLE_MAX_WIDTH,\n    minHeight: hideFooter ?\n    RESIZABLE_MIN_HEIGHT :\n    RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n    minWidth: RESIZABLE_MIN_WIDTH,\n    enable: {\n      bottom: true,\n      bottomLeft: false,\n      bottomRight: true,\n      left: false,\n      top: false,\n      topLeft: false,\n      topRight: false,\n      right: true } },\n\n  draggableConfig, destroyOnClose, ...rest }) => {\n  const draggableRef = useRef(null);\n  const [bounds, setBounds] = useState();\n  const [dragDisabled, setDragDisabled] = useState(true);\n  const modalFooter = _isNil(footer) ?\n  [\n  ___EmotionJSX(Button, { key: \"back\", onClick: onHide, cta: true },\n  t('Cancel')),\n\n  ___EmotionJSX(Button, { key: \"submit\", buttonStyle: primaryButtonType, disabled: disablePrimaryButton, onClick: onHandledPrimaryAction, cta: true },\n  primaryButtonName)] :\n\n\n  footer;\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n  const onDragStart = (_, uiData) => {var _window, _window$document, _draggableRef$current;\n    const { clientWidth, clientHeight } = (_window = window) == null ? void 0 : (_window$document = _window.document) == null ? void 0 : _window$document.documentElement;\n    const targetRect = draggableRef == null ? void 0 : (_draggableRef$current = draggableRef.current) == null ? void 0 : _draggableRef$current.getBoundingClientRect();\n    if (targetRect) {\n      setBounds({\n        left: -(targetRect == null ? void 0 : targetRect.left) + (uiData == null ? void 0 : uiData.x),\n        right: clientWidth - ((targetRect == null ? void 0 : targetRect.right) - (uiData == null ? void 0 : uiData.x)),\n        top: -(targetRect == null ? void 0 : targetRect.top) + (uiData == null ? void 0 : uiData.y),\n        bottom: clientHeight - ((targetRect == null ? void 0 : targetRect.bottom) - (uiData == null ? void 0 : uiData.y)) });\n\n    }\n  };\n  const ModalTitle = () => draggable ? ___EmotionJSX(\"div\", { className: \"draggable-trigger\", onMouseOver: () => dragDisabled && setDragDisabled(false), onMouseOut: () => !dragDisabled && setDragDisabled(true) },\n  title) :\n  ___EmotionJSX(React.Fragment, null, title);\n  return ___EmotionJSX(StyledModal, _extends({ centered: !!centered, onOk: onHandledPrimaryAction, onCancel: onHide, width: modalWidth, maxWidth: maxWidth, responsive: responsive, visible: show, title: ___EmotionJSX(ModalTitle, null), closeIcon: ___EmotionJSX(\"span\", { className: \"close\", \"aria-hidden\": \"true\" }, \"\\xD7\"),\n\n    footer: !hideFooter ? modalFooter : null, hideFooter: hideFooter, wrapProps: { 'data-test': `${name || title}-modal`, ...wrapProps }, modalRender: (modal) => resizable || draggable ? ___EmotionJSX(Draggable, _extends({ disabled: !draggable || dragDisabled, bounds: bounds, onStart: (event, uiData) => onDragStart(event, uiData) }, draggableConfig),\n    resizable ? ___EmotionJSX(Resizable, _extends({ className: \"resizable\" }, resizableConfig),\n    ___EmotionJSX(\"div\", { className: \"resizable-wrapper\", ref: draggableRef },\n    modal)) :\n\n    ___EmotionJSX(\"div\", { ref: draggableRef }, modal)) :\n    modal, mask: shouldShowMask, draggable: draggable, resizable: resizable, destroyOnClose: destroyOnClose || resizable || draggable }, rest),\n  children);\n\n};\nCustomModal.displayName = 'Modal';\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: AntdModal.error,\n  warning: AntdModal.warning,\n  confirm: AntdModal.confirm,\n  useModal: AntdModal.useModal });\n\nexport default Modal;","map":null,"metadata":{},"sourceType":"module"}