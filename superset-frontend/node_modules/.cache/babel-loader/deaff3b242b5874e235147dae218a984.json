{"ast":null,"code":"import { SupersetClient } from '@superset-ui/core';\n// update datasources index for Dashboard\nexport var DatasourcesAction;\n(function (DatasourcesAction) {\n  DatasourcesAction[\"SET_DATASOURCES\"] = \"SET_DATASOURCES\";\n  DatasourcesAction[\"SET_DATASOURCE\"] = \"SET_DATASOURCE\";\n})(DatasourcesAction || (DatasourcesAction = {}));\nexport function setDatasources(datasources) {\n  return {\n    type: DatasourcesAction.SET_DATASOURCES,\n    datasources };\n\n}\nexport function setDatasource(datasource, key) {\n  return {\n    type: DatasourcesAction.SET_DATASOURCE,\n    key,\n    datasource };\n\n}\nexport function fetchDatasourceMetadata(key) {\n  return (dispatch, getState) => {\n    const { datasources } = getState();\n    const datasource = datasources[key];\n    if (datasource) {\n      return dispatch(setDatasource(datasource, key));\n    }\n    return SupersetClient.get({\n      endpoint: `/superset/fetch_datasource_metadata?datasourceKey=${key}` }).\n    then(({ json }) => dispatch(setDatasource(json, key)));\n  };\n}","map":null,"metadata":{},"sourceType":"module"}