{"ast":null,"code":"import { interpolateRgb, piecewise, quantize } from 'd3-interpolate';\nimport { scaleSequential, scaleLinear } from 'd3-scale';\nimport SchemeWrapper from './SchemeWrapper';\n\nfunction isArrayOfArray(x) {\n  return Array.isArray(x[x.length - 1]);\n}\n\nexport default class ContinuousSchemeWrapper extends SchemeWrapper {\n  get colors() {\n    if ('colors' in this.scheme && typeof this.scheme.colors !== 'undefined') {\n      return this.scheme.colors;\n    }\n\n    return this.getColors();\n  }\n\n  get interpolator() {\n    if ('interpolator' in this.scheme && typeof this.scheme.interpolator !== 'undefined') {\n      return this.scheme.interpolator;\n    }\n\n    const colors = this.scheme.colors;\n    return piecewise(interpolateRgb, (isArrayOfArray(colors) ? colors[colors.length - 1] : colors).slice());\n  }\n  /**\n   * Get colors from this scheme\n   * @param numColors number of colors to return.\n   * Will interpolate the current scheme to match the number of colors requested\n   * @param extent The extent of the color range to use.\n   * For example [0.2, 1] will rescale the color scheme\n   * such that color values in the range [0, 0.2) are excluded from the scheme.\n   */\n\n\n  getColors(numColors = 2, extent = [0, 1]) {\n    if ('colors' in this.scheme && typeof this.scheme.colors !== 'undefined' && extent[0] === 0 && extent[1] === 1) {\n      const {\n        colors } =\n      this.scheme;\n\n      if (isArrayOfArray(colors)) {\n        if (typeof colors[numColors] !== 'undefined') {\n          return colors[numColors].slice();\n        }\n      } else if (numColors === colors.length) {\n        return colors.slice();\n      }\n    }\n\n    const {\n      interpolator } =\n    this;\n    const adjustExtent = scaleLinear().range(extent).clamp(true);\n    return quantize((t) => interpolator(adjustExtent(t)), numColors);\n  }\n\n  createScaleLinear() {\n    // The manual casting is necessary until @types/d3-scale is corrected\n    // In recent version of d3-scale the output from scaleSequential is compatible with linear scale\n    // (It has .range(),  ...)\n    return scaleSequential(this.interpolator);\n  }}","map":null,"metadata":{},"sourceType":"module"}